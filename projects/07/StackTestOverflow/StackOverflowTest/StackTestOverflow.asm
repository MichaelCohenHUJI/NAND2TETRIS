

//push constant0
@0
D=A
@SP
A=M
M=D
@SP
M=M+1
//push constant32767
@32767
D=A
@SP
A=M
M=D
@SP
M=M+1
@SP
A=M-1
D=M
@SP
M=M-1
A=M-1
M=M-D
//push constant2
@2
D=A
@SP
A=M
M=D
@SP
M=M+1
@SP
A=M-1
D=M
@SP
M=M-1
A=M-1
@label0
;D;JGT
@label2
;M;JGT
(label0)
@label1
;M;JLT
@label3
;JMP
(label1)
D=1
@SP
A=M-1
M=-1
@label3
;JMP
(label2)
@label3
;D;JLT
@label3
;JMP
(label3)
D=-1
@SP
A=M-1
M=1
(label3)
D=M-D

@label6
D;JLT
@SP
A=M-1
M=0
@label5
D=D;JMP
(label6)
@SP
A=M-1
M=-1
(label5)


//push constant2
@2
D=A
@SP
A=M
M=D
@SP
M=M+1
//push constant0
@0
D=A
@SP
A=M
M=D
@SP
M=M+1
//push constant32767
@32767
D=A
@SP
A=M
M=D
@SP
M=M+1
@SP
A=M-1
D=M
@SP
M=M-1
A=M-1
M=M-D
@SP
A=M-1
D=M
@SP
M=M-1
A=M-1
@label7
;D;JGT
@label9
;M;JGT
(label7)
@label8
;M;JLT
@label10
;JMP
(label8)
D=1
@SP
A=M-1
M=-1
@label10
;JMP
(label9)
@label10
;D;JLT
@label10
;JMP
(label10)
D=-1
@SP
A=M-1
M=1
(label10)
D=M-D

@label13
D;JLT
@SP
A=M-1
M=0
@label12
D=D;JMP
(label13)
@SP
A=M-1
M=-1
(label12)


//push constant0
@0
D=A
@SP
A=M
M=D
@SP
M=M+1
//push constant32767
@32767
D=A
@SP
A=M
M=D
@SP
M=M+1
@SP
A=M-1
D=M
@SP
M=M-1
A=M-1
M=M-D
//push constant2
@2
D=A
@SP
A=M
M=D
@SP
M=M+1
@SP
A=M-1
D=M
@SP
M=M-1
A=M-1
@label14
;D;JGT
@label16
;M;JGT
(label14)
@label15
;M;JLT
@label17
;JMP
(label15)
D=1
@SP
A=M-1
M=-1
@label17
;JMP
(label16)
@label17
;D;JLT
@label17
;JMP
(label17)
D=-1
@SP
A=M-1
M=1
(label17)
D=M-D

@label20
D;JGT
@SP
A=M-1
M=0
@label19
D=D;JMP
(label20)
@SP
A=M-1
M=-1
(label19)


//push constant2
@2
D=A
@SP
A=M
M=D
@SP
M=M+1
//push constant0
@0
D=A
@SP
A=M
M=D
@SP
M=M+1
//push constant32767
@32767
D=A
@SP
A=M
M=D
@SP
M=M+1
@SP
A=M-1
D=M
@SP
M=M-1
A=M-1
M=M-D
@SP
A=M-1
D=M
@SP
M=M-1
A=M-1
@label21
;D;JGT
@label23
;M;JGT
(label21)
@label22
;M;JLT
@label24
;JMP
(label22)
D=1
@SP
A=M-1
M=-1
@label24
;JMP
(label23)
@label24
;D;JLT
@label24
;JMP
(label24)
D=-1
@SP
A=M-1
M=1
(label24)
D=M-D

@label27
D;JGT
@SP
A=M-1
M=0
@label26
D=D;JMP
(label27)
@SP
A=M-1
M=-1
(label26)
